<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signetix Chat Inclusivo</title>

<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="container">

        <div id="login">
            <div class="login-layout">
                <div class="login-gallery">
                    <img src="img/logo1.png" alt="Logo 1">
                    <img src="img/logo2.png" alt="Logo 2">
                    <img src="img/logo3.png" alt="Logo 3">
                </div>
<div class="login-form">
    <h1>Signetix</h1>
    <form onsubmit="event.preventDefault(); login();">
        <input type="text" id="loginUsername" placeholder="TelÃ©fono, usuario o correo electrÃ³nico" autocomplete="username">
        <input type="password" id="loginPassword" placeholder="ContraseÃ±a" autocomplete="current-password">
        <button type="submit">Entrar</button>
    </form>
    <div style="margin-top: 10px;">
        <a href="#" onclick="showRegister()">Â¿No tienes cuenta? RegÃ­strate</a><br>
        <a href="#" onclick="showRecover()" style="font-size: 0.9em;">Â¿Olvidaste tu contraseÃ±a?</a>
    </div>
</div>
            </div>
        </div>

<div id="register" class="hidden">
    <h2>Crear cuenta</h2>
    <p style="font-size:12px; color:gray;">Nota: ContraseÃ±a mÃ­n. 4 letras y 4 nÃºmeros</p>
    
    <form onsubmit="event.preventDefault(); registerUser();">
        <input type="text" id="regUsername" placeholder="Nuevo usuario" autocomplete="username">
        <input type="password" id="regPassword" placeholder="ContraseÃ±a" autocomplete="new-password">
        <input type="password" id="regConfirm" placeholder="Confirmar contraseÃ±a" autocomplete="new-password">

 <label>Selecciona tu Avatar:</label>
<div class="avatar-gallery" style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
    
    <label>
        <input type="radio" name="regAvatar" value="img/avatar1.png" checked>
        <img src="img/avatar1.png" class="avatar-crop" title="Avatar 1">
    </label>

    <label>
        <input type="radio" name="regAvatar" value="img/avatar2.png">
        <img src="img/avatar2.png" class="avatar-crop" title="Avatar 2">
    </label>

    <label>
        <input type="radio" name="regAvatar" value="img/avatar3.png">
        <img src="img/avatar3.png" class="avatar-crop" title="Avatar 3">
    </label>

    <label>
        <input type="radio" name="regAvatar" value="img/avatar4.png">
        <img src="img/avatar4.png" class="avatar-crop" title="Avatar 4">
    </label>

    <label>
        <input type="radio" name="regAvatar" value="img/avatar5.png">
        <img src="img/avatar5.png" class="avatar-crop" title="Avatar 5">
    </label>

    <label>
        <input type="radio" name="regAvatar" value="img/avatar6.png">
        <img src="img/avatar6.png" class="avatar-crop" title="Avatar 6">
    </label>

    <label>
        <input type="radio" name="regAvatar" value="img/avatar7.png">
        <img src="img/avatar7.png" class="avatar-crop" title="Avatar 7">
    </label>

    <label>
        <input type="radio" name="regAvatar" value="img/avatar8.png">
        <img src="img/avatar8.png" class="avatar-crop" title="Avatar 8">
    </label>

    <label>
        <input type="radio" name="regAvatar" value="img/avatar9.png">
        <img src="img/avatar9.png" class="avatar-crop" title="Avatar 9">
    </label>

    <label>
        <input type="radio" name="regAvatar" value="img/avatar10.png">
        <img src="img/avatar10.png" class="avatar-crop" title="Avatar 10">
    </label>

</div>
        <button type="submit">Registrar</button>
        <button type="button" onclick="showLogin()" style="background-color: #ccc; color: #333;">Cancelar</button>
    </form>
</div>
        <div id="recover" class="hidden">
            <div class="recover-card">
                <div class="recover-icon">ğŸ”’</div>
                <h2>Â¿Tienes problemas para iniciar sesiÃ³n?</h2>
                <input type="text" id="recoverInput" placeholder="Correo electrÃ³nico o usuario">
                <button onclick="alert('Enlace enviado')">Enviar enlace</button>
                <p><a href="#" onclick="showLogin()">Volver</a></p>
            </div>
        </div>

        <div id="app-interface" class="app-layout hidden" style="height: 100vh; display: none;">

            <aside id="sidebar"
                style="width: 30%; background: #111b21; border-right: 1px solid #333; display: flex; flex-direction: column;">
                <div id="logoutArea" class="sidebar-header"
                    style="padding: 10px; background: #202c33; display: flex; justify-content: space-between; align-items: center;">
                    <div class="profile-info" style="display: flex; align-items: center; cursor: pointer;"
                        onclick="abrirAjustes()">
                        <img id="userAvatar" class="avatar" src="https://i.imgur.com/0y8Ftya.png" alt="Avatar"
                            style="width: 40px; border-radius: 50%;">
                        <span id="userGreetingShort" style="font-weight: bold; margin-left: 10px; color: white;">Usuario</span>
                    </div>
                    <button onclick="logout()" style="background: none; border: none; font-size: 20px; color: white;">ğŸšª</button>
                </div>

                <div id="userList" style="padding: 10px; flex-grow: 1; overflow-y: auto;">
                    <h3 style="color: white;">Chats</h3>
                    <div onclick="abrirChat('SigneBot')" class="user-btn"
                        style="padding: 10px; cursor: pointer; display: flex; align-items: center; gap: 10px; border-bottom: 1px solid #333;">
                        <img src="img/logo1.png" class="avatar" style="width: 40px; border-radius: 50%;">
                        <span style="color: white;">ğŸ’¬ SigneBot</span>
                    </div>
                    <!-- Add more users here -->
                </div>
            </aside>

            <main id="chat-area" style="flex: 1; display: flex; flex-direction: column; position: relative;">

                <div id="chatHeader" style="background-color:#202c33; color:white; padding:10px; display:flex; align-items:center;">
                    <button id="backToUsersBtn" onclick="goBackToUsers()" class="hidden mobile-only"
                        style="margin-right: 10px;">â†</button>
                    <img src="img/logo1.png" style="width:40px; border-radius:50%; margin-right:10px;" alt="SigneBot Avatar">
                    <div style="flex:1;">
                        <h3 id="chatTitle" style="margin:0;">SigneBot</h3>
                    </div>
                </div>

                <div id="chat" class="chat-container"
                    style="flex: 1; background-image: url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png'); background-color: #0b141a; display: flex; flex-direction: column; overflow-y: auto;">
                    <div id="messages" class="chat-box">
                        <div class="mensaje incoming">Â¡Hola! Selecciona un chat.</div>
                    </div>
                </div>

                <div id="panelCamaraChat" class="hidden"
                    style="position:absolute; bottom:70px; left:0; right:0; background:#202c33; padding:10px; border-top: 1px solid #00af9c;">
                    <div style="display:flex;">
                        <div style="position:relative; width:150px;">
                            <video id="videoChat" autoplay playsinline
                                style="width:150px; border-radius:10px;"></video>
                            <canvas id="canvasChat" width="640" height="480"
                                style="position:absolute; top:0; left:0; width:150px; height:100%;"></canvas>
                        </div>
                        <div style="flex:1; padding-left:10px; color: white;">
                            <p style="color:#00af9c; font-size:12px; margin: 0;">Detectando seÃ±as...</p>
                            <input type="text" id="textoDetectadoPreview" placeholder="..."
                                style="width:100%; background:#2a3942; border:none; color:white; padding:5px; margin-top: 5px;">
                            <button onclick="enviarTextoSeÃ±as()"
                                style="margin-top:5px; background:#00af9c; color:white; border:none; padding:5px 15px; border-radius:5px;">Insertar</button>
                        </div>
                    </div>
                </div>

                <div id="inputArea" style="background-color:#202c33; display:flex; align-items:center; padding:10px;">
                    <button onclick="toggleModoSeÃ±as()"
                        style="background:none; border:none; font-size:24px; cursor:pointer; color: white;">ğŸ¤Ÿ</button>
                    <button onclick="toggleModoAvatar()"
                        style="background:none; border:none; font-size:24px; cursor:pointer; margin-left:10px; color: white;">ğŸ“</button>
                    <input type="text" id="inputMsg" placeholder="Mensaje"
                        style="flex:1; margin:0 10px; padding:10px; border-radius:20px; border:none; background-color:#2a3942; color:white;">
                    <button onclick="sendMessage()"
                        style="background:none; border:none; font-size:24px; cursor:pointer; color: white;">â¤</button>
                </div>
            </main>
        </div>

<div id="entrenamiento-overlay" class="hidden"
    style="position:fixed; top:0; left:0; width:100%; height:100%; background:#111b21; z-index:2000; color:white; display:flex; flex-direction:column; align-items:center; justify-content:center;">
    
    <h2>Entrenamiento Inicial</h2>
    
    <img id="imagenReferencia" src="" alt="Referencia de seÃ±a" 
        style="width:150px; height:150px; border-radius:10px; margin-bottom:15px; border: 2px solid white; object-fit: cover;">
    
    <h1 id="letraGigante" style="font-size:80px; color:#00af9c; margin:10px;">A</h1>
    
    <div id="progresoEntrenamiento" class="hidden" style="width:320px; margin-bottom: 10px; background: #2a3942; border-radius: 10px; overflow: hidden;">
        <div id="barraProgreso" style="height: 10px; width: 0%; background: #00af9c;"></div>
    </div>
    
    <div style="position:relative; width:320px; height:240px; border:2px solid #00af9c; border-radius:10px;">
        <video id="videoEntrena" autoplay playsinline 
            style="width:100%; height:100%; object-fit: cover;"></video>
        <canvas id="canvasEntrena" width="640" height="480"
            style="position:absolute; top:0; left:0; width:100%; height:100%;"></canvas>
    </div>
    
    <p id="statusEntrena" style="margin-top:20px; font-size:18px;">Prepara tu mano...</p>
    
</div>
        <div id="modalAvatar" class="hidden"
            style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:1500; display:flex; justify-content:center; align-items:center;">
            <div style="background:#202c33; padding:20px; border-radius:20px; width:90%; max-width:400px; text-align:center;">
                <img src="img/avatar3.png" alt="Avatar" style="width:100px; margin-bottom:10px;">
                <h3 style="color:white;">Signetix Avatar</h3>
                <textarea id="inputAvatar" placeholder="Escribe para que el avatar hable..."
                    style="width:100%; height:80px; background:#2a3942; border:none; color:white; padding:10px; border-radius:10px;"></textarea>
                <div style="margin-top:15px; display:flex; justify-content:space-between; gap: 10px;">
                    <button onclick="toggleModoAvatar()"
                        style="background:#ef5350; color:white; border:none; padding:10px; border-radius:10px; flex: 1;">Cancelar</button>
                    <button onclick="enviarMensajeAvatar()"
                        style="background:#00af9c; color:white; border:none; padding:10px; border-radius:10px; flex: 1;">Enviar</button>
                </div>
            </div>
        </div>

        <div id="pantallaAjustes" class="hidden"
            style="position:fixed; top:0; left:0; width:100%; height:100%; background:#111b21; z-index:1000; color:white;">
            <div style="padding:20px; background:#202c33; display:flex; align-items:center;">
                <button onclick="cerrarAjustes()"
                    style="background:none; border:none; color:white; font-size:24px; margin-right:15px;">â†</button>
                <h2>Ajustes</h2>
            </div>
            <div style="padding:20px; text-align:center;">
                <img src="https://i.imgur.com/0y8Ftya.png" style="width:100px; border-radius:50%; margin-bottom:10px;" alt="User Avatar">
                <h3 id="settingsName">Nombre de Usuario</h3>
                <div style="text-align:left; margin-top:30px;">
                    <div style="padding:15px; border-bottom:1px solid #2a3942;">ğŸ”‘ Cuenta</div>
                    <div style="padding:15px; border-bottom:1px solid #2a3942;">ğŸ¨ PersonalizaciÃ³n</div>
                    <div style="padding:15px; border-bottom:1px solid #2a3942;">ğŸ‘¥ Contactos (Max 15)</div>
                    <button onclick="logout()"
                        style="width:100%; padding:15px; background:none; border:none; color:#ef5350; text-align:left; font-size:16px; margin-top:20px;">Cerrar
                        SesiÃ³n</button>
                </div>
            </div>
</div>
Â  Â  </div>
<script defer src="script.js"></script>
</body> 
</html>